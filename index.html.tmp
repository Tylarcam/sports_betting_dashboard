<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports Betting Policy Dashboard | Comprehensive Analysis 2025</title>
    <meta name="description" content="Complete analysis of U.S. sports betting legalization since PASPA repeal - interactive maps, timelines, revenue data, and policy insights.">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'navy': '#1a2332',
                        'copper': '#ff6b47',
                        'cyan': '#47d9ff',
                        'dark-blue': '#0f1419',
                        'accent-orange': '#ff8c42',
                        'accent-cyan': '#42dfff'
                    },
                    fontFamily: {
                        'display': ['Inter', 'system-ui', 'sans-serif'],
                        'body': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style>
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 50%, #2d3748 100%);
            background-attachment: fixed;
        }
        
        .hero-bg {
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 50%, #2d3748 100%);
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%"><stop offset="0%" stop-color="%23ff6b47" stop-opacity="0.1"/><stop offset="100%" stop-color="%2347d9ff" stop-opacity="0.05"/></radialGradient></defs><rect width="100%" height="100%" fill="url(%23a)"/><g fill="none" stroke="%23ff6b47" stroke-width="0.5" opacity="0.3"><path d="M0,0 L1000,1000 M200,0 L800,1000 M400,0 L600,1000 M0,200 L1000,800 M0,400 L1000,600"/><circle cx="500" cy="500" r="200"/><circle cx="500" cy="500" r="400"/></g></svg>');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
        }
        
        .network-bg {
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="%23ff6b47" stroke-width="0.5" opacity="0.2"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grid)"/><g fill="%2347d9ff" opacity="0.1"><circle cx="100" cy="100" r="2"/><circle cx="300" cy="200" r="3"/><circle cx="500" cy="150" r="2"/><circle cx="700" cy="300" r="4"/><circle cx="200" cy="400" r="2"/><circle cx="600" cy="500" r="3"/><circle cx="400" cy="600" r="2"/><circle cx="150" cy="700" r="3"/><circle cx="650" cy="650" r="2"/></g></svg>');
        }
        
        .glass-card {
            background: rgba(26, 35, 50, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 107, 71, 0.2);
        }
        
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        
        .nav-link:hover {
            color: #ff6b47;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: #ff6b47;
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        
        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(255, 107, 71, 0.1) 0%, rgba(71, 217, 255, 0.1) 100%);
            border: 1px solid rgba(255, 107, 71, 0.3);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 107, 71, 0.2);
        }
        
        .timeline-item {
            position: relative;
            padding-left: 2rem;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0.5rem;
            width: 12px;
            height: 12px;
            background: #ff6b47;
            border-radius: 50%;
            border: 3px solid #1a2332;
        }
        
        .timeline-item::after {
            content: '';
            position: absolute;
            left: 5px;
            top: 1.5rem;
            width: 2px;
            height: calc(100% - 1rem);
            background: linear-gradient(to bottom, #ff6b47, transparent);
        }
        
        .timeline-item:last-child::after {
            display: none;
        }
        
        .state-card {
            background: rgba(26, 35, 50, 0.9);
            border: 1px solid rgba(255, 107, 71, 0.3);
            transition: all 0.3s ease;
        }
        
        .state-card:hover {
            border-color: #ff6b47;
            box-shadow: 0 8px 25px rgba(255, 107, 71, 0.15);
        }
        
        .legal-status-legal {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .legal-status-pending {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }
        
        .legal-status-none {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }
        
        .revenue-chart {
            background: rgba(26, 35, 50, 0.9);
            border: 1px solid rgba(71, 217, 255, 0.3);
        }
        
        .insight-card {
            background: linear-gradient(135deg, rgba(71, 217, 255, 0.1) 0%, rgba(255, 107, 71, 0.1) 100%);
            border: 1px solid rgba(71, 217, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .insight-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(71, 217, 255, 0.15);
        }
        
        .counter {
            font-variant-numeric: tabular-nums;
            font-weight: 700;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.8s ease forwards;
        }
        
        .stagger-delay-1 { animation-delay: 0.1s; }
        .stagger-delay-2 { animation-delay: 0.2s; }
        .stagger-delay-3 { animation-delay: 0.3s; }
        .stagger-delay-4 { animation-delay: 0.4s; }
        
        .sortable-header {
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .sortable-header:hover {
            color: #ff6b47;
        }
        
        .sortable-header.sorted {
            color: #47d9ff;
        }
        
        #map {
            height: 500px;
            border-radius: 8px;
            border: 1px solid rgba(255, 107, 71, 0.3);
        }
        
        .leaflet-container {
            background: rgba(15, 20, 25, 0.9);
        }
        
        .leaflet-control-container .leaflet-control {
            background: rgba(26, 35, 50, 0.9);
            border: 1px solid rgba(255, 107, 71, 0.3);
        }
    </style>
</head>
<body class="bg-dark-blue text-white">
    <!-- Navigation -->
    <nav class="bg-navy bg-opacity-90 backdrop-blur-sm fixed w-full top-0 z-50 border-b border-copper border-opacity-30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="text-xl font-bold text-white">PolicyDashboard</div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#overview" class="nav-link text-white hover:text-copper px-3 py-2 text-sm font-medium">Overview</a>
                        <a href="#map" class="nav-link text-white hover:text-copper px-3 py-2 text-sm font-medium">Map</a>
                        <a href="#timeline" class="nav-link text-white hover:text-copper px-3 py-2 text-sm font-medium">Timeline</a>
                        <a href="#analysis" class="nav-link text-white hover:text-copper px-3 py-2 text-sm font-medium">Analysis</a>
                        <a href="#revenue" class="nav-link text-white hover:text-copper px-3 py-2 text-sm font-medium">Revenue</a>
                        <a href="#insights" class="nav-link text-white hover:text-copper px-3 py-2 text-sm font-medium">Insights</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-bg min-h-screen flex items-center justify-center text-white pt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="fade-in-up">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 splitting-text" data-splitting>
                    Sports Betting Policy Dashboard
                </h1>
                <div class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90">
                    <span id="typed-text"></span>
                </div>
            </div>
            
            <!-- Key Metrics -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-12 fade-in-up stagger-delay-2">
                <div class="stat-card rounded-lg p-6">
                    <div class="text-3xl font-bold counter text-copper" data-target="38">0</div>
                    <div class="text-sm opacity-80 mt-2">States with Legal Betting</div>
                </div>
                <div class="stat-card rounded-lg p-6">
                    <div class="text-3xl font-bold counter text-cyan" data-target="30">0</div>
                    <div class="text-sm opacity-80 mt-2">Online/Mobile States</div>
                </div>
                <div class="stat-card rounded-lg p-6">
                    <div class="text-3xl font-bold counter text-copper" data-target="245">0</div>
                    <div class="text-sm opacity-80 mt-2">Avg Implementation Days</div>
                </div>
                <div class="stat-card rounded-lg p-6">
                    <div class="text-3xl font-bold counter text-cyan" data-target="83">0</div>
                    <div class="text-sm opacity-80 mt-2">% with Online Access</div>
                </div>
            </div>
            
            <div class="mt-12 fade-in-up stagger-delay-4">
                <a href="#overview" class="inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-navy bg-white hover:bg-gray-100 transition-colors">
                    Explore Analysis
                    <svg class="ml-2 -mr-1 w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Overview Section -->
    <section id="overview" class="py-20 network-bg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 animate-on-scroll">
                <h2 class="text-4xl font-bold text-white mb-4">Understanding the PASPA Era</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    The Professional and Amateur Sports Protection Act (PASPA) of 1992 effectively banned sports betting nationwide. 
                    This federal prohibition stood for 26 years until a landmark Supreme Court decision changed everything.
                </p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
                <div class="glass-card rounded-lg p-8 animate-on-scroll">
                    <h3 class="text-2xl font-semibold text-white mb-6">The 2018 Supreme Court Decision</h3>
                    <div class="space-y-4 text-gray-300">
                        <p>
                            On May 14, 2018, the U.S. Supreme Court struck down PASPA in Murphy v. NCAA, ruling that the federal government 
                            could not command states to prohibit sports betting. This 6-3 decision opened the door for states to legalize 
                            and regulate sports wagering within their borders.
                        </p>
                        <p>
                            Justice Samuel Alito wrote for the majority: "Congress can regulate sports gambling directly, but if it 
                            elects not to do so, each State is free to act on its own." This ruling effectively returned the power 
                            to regulate sports betting to individual states.
                        </p>
                        <p>
                            The immediate impact was profound. New Jersey, which had led the legal challenge against PASPA, launched 
                            sports betting within weeks. Other states quickly followed, creating the foundation for the diverse 
                            regulatory landscape we see today.
                        </p>
                    </div>
                </div>
                
                <div class="glass-card rounded-lg p-8 animate-on-scroll">
                    <h3 class="text-2xl font-semibold text-white mb-6">Why This Dashboard Matters</h3>
                    <div class="space-y-4 text-gray-300">
                        <p>
                            The rapid expansion of legal sports betting has created a complex patchwork of regulations across the 
                            United States. Each state has taken a unique approach to legalization, from comprehensive frameworks 
                            to limited implementations.
                        </p>
                        <p>
                            This dashboard provides policymakers, researchers, and the public with transparent, data-driven insights 
                            into the evolution of sports betting legislation. By tracking implementation timelines, revenue impacts, 
                            and regulatory approaches, we can identify best practices and inform future policy decisions.
                        </p>
                        <p>
                            The data reveals fascinating patterns in how states have approached legalization, from the Northeast's 
                            early adoption to the West's diverse tribal gaming models. These insights help us understand not just 
                            where sports betting is legal, but how different regulatory frameworks perform in practice.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Key Statistics -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 animate-on-scroll">
                <div class="text-center">
                    <div class="text-4xl font-bold text-copper mb-2">$60B+</div>
                    <div class="text-lg text-white mb-1">Total Handle 2024</div>
                    <div class="text-sm text-gray-400">Combined sports betting revenue</div>
                </div>
                <div class="text-center">
                    <div class="text-4xl font-bold text-cyan mb-2">$5.2B</div>
                    <div class="text-lg text-white mb-1">Tax Revenue Generated</div>
                    <div class="text-sm text-gray-400">State and local governments</div>
                </div>
                <div class="text-center">
                    <div class="text-4xl font-bold text-copper mb-2">150K+</div>
                    <div class="text-lg text-white mb-1">Jobs Created</div>
                    <div class="text-sm text-gray-400">Direct and indirect employment</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Map Section -->
    <section id="map" class="py-20 bg-navy bg-opacity-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 animate-on-scroll">
                <h2 class="text-4xl font-bold text-white mb-4">Interactive State Map</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Explore the current status of sports betting legalization across all 50 states. 
                    Hover over states for detailed information and click for comprehensive analysis.
                </p>
            </div>
            
            <div class="glass-card rounded-lg p-8 animate-on-scroll">
                <div class="mb-6">
                    <div class="flex flex-wrap justify-center gap-4 mb-4">
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-green-500 rounded mr-2"></div>
                            <span class="text-sm text-gray-300">Legal</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-yellow-500 rounded mr-2"></div>
                            <span class="text-sm text-gray-300">Pending</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-red-500 rounded mr-2"></div>
                            <span class="text-sm text-gray-300">Not Legal</span>
                        </div>
                    </div>
                </div>
                
                <div id="map" class="w-full"></div>
                
                <div class="mt-6 text-center">
                    <p class="text-sm text-gray-400">
                        Interactive map showing sports betting status by state. Click on any state for detailed information.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline Section -->
    <section id="timeline" class="py-20 network-bg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 animate-on-scroll">
                <h2 class="text-4xl font-bold text-white mb-4">Legalization Timeline</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Key milestones in the evolution of sports betting legalization from the 2018 PASPA repeal to present day.
                </p>
            </div>
            
            <div class="glass-card rounded-lg p-8 animate-on-scroll">
                <div class="space-y-8">
                    <div class="timeline-item">
                        <div class="flex flex-col md:flex-row md:items-center">
                            <div class="md:w-32 mb-2 md:mb-0">
                                <span class="bg-copper text-white px-3 py-1 rounded-full text-sm font-semibold">May 2018</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-semibold text-white mb-2">PASPA Repeal</h3>
                                <p class="text-gray-300 mb-2">
                                    Supreme Court strikes down PASPA in Murphy v. NCAA, opening the door for state-level sports betting legalization.
                                </p>
                                <div class="text-sm text-cyan">Impact: Federal ban lifted, states gain regulatory authority</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="flex flex-col md:flex-row md:items-center">
                            <div class="md:w-32 mb-2 md:mb-0">
                                <span class="bg-cyan text-navy px-3 py-1 rounded-full text-sm font-semibold">June 2018</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-semibold text-white mb-2">First Wave Launch</h3>
                                <p class="text-gray-300 mb-2">
                                    Delaware, New Jersey, and West Virginia launch sports betting within weeks of the PASPA repeal.
                                </p>
                                <div class="text-sm text-cyan">States: DE, NJ, WV, MS, NM (tribal), NV (existing)</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="flex flex-col md:flex-row md:items-center">
                            <div class="md:w-32 mb-2 md:mb-0">
                                <span class="bg-copper text-white px-3 py-1 rounded-full text-sm font-semibold">2019</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-semibold text-white mb-2">Major Expansion</h3>
                                <p class="text-gray-300 mb-2">
                                    Pennsylvania, Rhode Island, Iowa, Indiana, and others join the market. Online/mobile betting gains traction.
                                </p>
                                <div class="text-sm text-cyan">States: PA, RI, IA, IN, NH, OR, TN + more</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="flex flex-col md:flex-row md:items-center">
                            <div class="md:w-32 mb-2 md:mb-0">
                                <span class="bg-cyan text-navy px-3 py-1 rounded-full text-sm font-semibold">2020</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-semibold text-white mb-2">Pandemic Acceleration</h3>
                                <p class="text-gray-300 mb-2">
                                    COVID-19 pandemic accelerates online adoption. Illinois, Michigan, Colorado, and Montana launch.
                                </p>
                                <div class="text-sm text-cyan">Focus shifts to mobile/online platforms</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="flex flex-col md:flex-row md:items-center">
                            <div class="md:w-32 mb-2 md:mb-0">
                                <span class="bg-copper text-white px-3 py-1 rounded-full text-sm font-semibold">2021-2023</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-semibold text-white mb-2">Continued Growth</h3>
                                <p class="text-gray-300 mb-2">
                                    Connecticut, Maryland, Massachusetts, Arizona, Florida, and many others launch. New York goes live with huge handle numbers.
                                </p>
                                <div class="text-sm text-cyan">Market matures, tax rates become key differentiator</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="flex flex-col md:flex-row md:items-center">
                            <div class="md:w-32 mb-2 md:mb-0">
                                <span class="bg-cyan text-navy px-3 py-1 rounded-full text-sm font-semibold">2024-2025</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-lg font-semibold text-white mb-2">Market Maturation</h3>
                                <p class="text-gray-300 mb-2">
                                    North Carolina launches online betting. Missouri approves via referendum for 2025 launch. Market reaches 38+ jurisdictions.
                                </p>
                                <div class="text-sm text-cyan">Focus shifts to market optimization and responsible gaming</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- State-by-State Analysis Section -->
    <section id="analysis" class="py-20 bg-navy bg-opacity-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 animate-on-scroll">
                <h2 class="text-4xl font-bold text-white mb-4">State-by-State Analysis</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Comprehensive breakdown of sports betting status, implementation dates, and regulatory details for all jurisdictions.
                </p>
            </div>
            
            <div class="glass-card rounded-lg p-8 animate-on-scroll">
                <!-- Filters -->
                <div class="mb-8">
                    <div class="flex flex-wrap gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Filter by Status:</label>
                            <select id="statusFilter" class="bg-navy border border-copper border-opacity-30 text-white px-4 py-2 rounded-md">
                                <option value="all">All States</option>
                                <option value="legal">Legal</option>
                                <option value="pending">Pending</option>
                                <option value="none">Not Legal</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Filter by Region:</label>
                            <select id="regionFilter" class="bg-navy border border-copper border-opacity-30 text-white px-4 py-2 rounded-md">
                                <option value="all">All Regions</option>
                                <option value="Northeast">Northeast</option>
                                <option value="Midwest">Midwest</option>
                                <option value="South">South</option>
                                <option value="West">West</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- Add the interactive map visual here -->
                <div class="mb-10">
                    <div id="stateMap" style="height: 410px; width: 100%; min-width:270px; background: #181e2c; border-radius: 10px; box-shadow: 0 2px 16px #08315e40;"></div>
                </div>
                
                <!-- Filter results counter -->
                <div class="text-center mb-4 text-gray-300 animate-on-scroll">
                    <p class="text-sm font-medium" id="filterCounter">Click on any state in the map above to view detailed information</p>
                </div>
                
                <!-- Selected State Information Card (hidden until a state is clicked) -->
                <div id="selectedStateCard" style="display: none;" class="mb-8 glass-card rounded-lg p-6">
                    <h3 id="selectedStateName" class="text-2xl font-bold text-white mb-4"></h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div>
                            <div class="text-sm text-gray-400">Status</div>
                            <div id="selectedStateStatus" class="text-lg font-semibold text-white"></div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-400">Legalized</div>
                            <div id="selectedStateDate" class="text-lg font-semibold text-white"></div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-400">Tax Rate</div>
                            <div id="selectedStateTaxRate" class="text-lg font-semibold text-cyan"></div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-400">Online/Retail</div>
                            <div id="selectedStateOptions" class="text-lg font-semibold text-white"></div>
                        </div>
                    </div>
                    <div class="mt-4">
                        <div class="text-sm text-gray-400 mb-2">Restrictions</div>
                        <div id="selectedStateRestrictions" class="text-white"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Revenue Impact Section -->
    <section id="revenue" class="py-20 network-bg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 animate-on-scroll">
                <h2 class="text-4xl font-bold text-white mb-4">Revenue Impact Analysis</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Comprehensive analysis of sports betting revenue generation, tax collections, and economic impact across legalized jurisdictions.
                </p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
                <div class="revenue-chart rounded-lg p-8 animate-on-scroll">
                    <h3 class="text-xl font-semibold text-white mb-6">Annual Revenue Growth</h3>
                    <canvas id="revenueChart" width="400" height="300"></canvas>
                </div>
                
                <div class="revenue-chart rounded-lg p-8 animate-on-scroll">
                    <h3 class="text-xl font-semibold text-white mb-6">Tax Revenue by State</h3>
                    <canvas id="taxChart" width="400" height="300"></canvas>
                </div>
            </div>
            
            <!-- Revenue Statistics -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 animate-on-scroll">
                <div class="glass-card rounded-lg p-6 text-center">
                    <div class="text-3xl font-bold text-copper mb-2" id="totalHandle">Loading...</div>
                    <div class="text-white mb-1">Total Handle 2024</div>
                    <div class="text-sm text-gray-400">+23% from 2023</div>
                </div>
                <div class="glass-card rounded-lg p-6 text-center">
                    <div class="text-3xl font-bold text-cyan mb-2">$5.2B</div>
                    <div class="text-white mb-1">Tax Revenue</div>
                    <div class="text-sm text-gray-400">State & local taxes</div>
                </div>
                <div class="glass-card rounded-lg p-6 text-center">
                    <div class="text-3xl font-bold text-copper mb-2">$7.8B</div>
                    <div class="text-white mb-1">Gross Revenue</div>
                    <div class="text-sm text-gray-400">Operator revenue</div>
                </div>
                <div class="glass-card rounded-lg p-6 text-center">
                    <div class="text-3xl font-bold text-cyan mb-2">12.9%</div>
                    <div class="text-white mb-1">Average Hold</div>
                    <div class="text-sm text-gray-400">Industry standard</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Key Insights Section -->
    <section id="insights" class="py-20 bg-navy bg-opacity-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 animate-on-scroll">
                <h2 class="text-4xl font-bold text-white mb-4">Key Insights & Trends</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Data-driven findings and emerging patterns in sports betting legalization and market development.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="insight-card rounded-lg p-6 animate-on-scroll">
                    <div class="w-12 h-12 bg-copper rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-semibold text-white mb-3">Rapid Market Growth</h3>
                    <p class="text-gray-300 text-sm mb-4">
                        Sports betting handle has grown from $13 billion in 2019 to over $60 billion in 2024, representing a 360% increase in just five years.
                    </p>
                    <div class="text-xs text-cyan">Annual growth rate: 35.7%</div>
                </div>
                
                <div class="insight-card rounded-lg p-6 animate-on-scroll">
                    <div class="w-12 h-12 bg-cyan rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-navy" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-semibold text-white mb-3">Tax Rate Variation</h3>
                    <p class="text-gray-300 text-sm mb-4">
                        Tax rates vary dramatically from 6.75% in Nevada to 51% in New Hampshire, New York, and Rhode Island, creating different competitive dynamics.
                    </p>
                    <div class="text-xs text-copper">Average tax rate: 19.2%</div>
                </div>
                
                <div class="insight-card rounded-lg p-6 animate-on-scroll">
                    <div class="w-12 h-12 bg-copper rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-semibold text-white mb-3">Mobile Dominance</h3>
                    <p class="text-gray-300 text-sm mb-4">
                        Online and mobile betting accounts for over 85% of total handle in states that offer both retail and online options.
                    </p>
                    <div class="text-xs text-cyan">Mobile share: 85.3%</div>
                </div>
                
                <div class="insight-card rounded-lg p-6 animate-on-scroll">
                    <div class="w-12 h-12 bg-cyan rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-navy" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-semibold text-white mb-3">Regional Patterns</h3>
                    <p class="text-gray-300 text-sm mb-4">
                        Northeast states led early adoption with 91% online availability, while Southern states show more conservative approaches at 43%.
                    </p>
                    <div class="text-xs text-copper">Northeast leads adoption rates</div>
                </div>
                
                <div class="insight-card rounded-lg p-6 animate-on-scroll">
                    <div class="w-12 h-12 bg-copper rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-semibold text-white mb-3">Implementation Speed</h3>
                    <p class="text-gray-300 text-sm mb-4">
                        Average implementation time is 245 days from legalization to launch, with the fastest states taking under 90 days.
                    </p>
                    <div class="text-xs text-cyan">Range: 31-914 days</div>
                </div>
                
                <div class="insight-card rounded-lg p-6 animate-on-scroll">
                    <div class="w-12 h-12 bg-cyan rounded-lg flex items-center justify-center mb-4">
                        <svg class="w-6 h-6 text-navy" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-semibold text-white mb-3">Economic Impact</h3>
                    <p class="text-gray-300 text-sm mb-4">
                        Sports betting has generated over 150,000 jobs and $5.2 billion in tax revenue, with significant economic multiplier effects.
                    </p>
                    <div class="text-xs text-copper">$1.3B economic multiplier effect</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-navy border-t border-copper border-opacity-30 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-bold text-white mb-4">PolicyDashboard</h3>
                    <p class="text-gray-400 text-sm">
                        Comprehensive sports betting policy analysis and data visualization platform.
                    </p>
                </div>
                
                <div>
                    <h4 class="text-sm font-semibold text-white mb-4">Data Sources</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li>State Gaming Commissions</li>
                        <li>Legislative Records</li>
                        <li>Industry Reports</li>
                        <li>News Media</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-sm font-semibold text-white mb-4">Resources</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-copper">Methodology</a></li>
                        <li><a href="#" class="hover:text-copper">Data Downloads</a></li>
                        <li><a href="#" class="hover:text-copper">API Documentation</a></li>
                        <li><a href="#" class="hover:text-copper">Research Papers</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-sm font-semibold text-white mb-4">Contact</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li>research@nobrainerco.com</li>
                        <li>Washington, D.C.</li>
                        <li>Response within 24h</li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-sm text-gray-400">
                    Created by <strong class="text-copper">Nobrainerco</strong> Data Team © 2025 | 
                    Last Updated: January 2025 | 
                    Data-driven policy analysis for informed decision making
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="main.js"></script>
    <script>
        // Initialize typed text effect
        document.addEventListener('DOMContentLoaded', function() {
            new Typed('#typed-text', {
                strings: [
                    'Tracking the evolution of sports betting legalization across America',
                    'Comprehensive data-driven insights since the 2018 PASPA repeal',
                    'Interactive analysis of 38+ jurisdictions and counting',
                    'Policy research for lawmakers, analysts, and stakeholders'
                ],
                typeSpeed: 50,
                backSpeed: 30,
                backDelay: 2000,
                loop: true,
                showCursor: true,
                cursorChar: '|'
            });
            
            // Initialize scroll animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('.animate-on-scroll').forEach(el => {
                observer.observe(el);
            });
            
            // Initialize counters
            const counters = document.querySelectorAll('.counter');
            counters.forEach(counter => {
                const target = parseInt(counter.dataset.target);
                animateCounter(counter, 0, target);
            });
            
            // Initialize map
            initMap();
            
            // Initialize charts
            createRevenueChart();
            createTaxChart();
            
            // Initialize states grid
            populateStatesGrid();
            
            // Add smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
        
        // Map initialization
        function initMap() {
            const map = L.map('map').setView([39.8283, -98.5795], 4);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors',
                opacity: 0.7
            }).addTo(map);
            
            // State data with coordinates and status
            const states = [
                {name: 'Arizona', code: 'AZ', lat: 33.4484, lng: -112.0740, status: 'legal', online: true, retail: true, taxRate: 10},
                {name: 'Arkansas', code: 'AR', lat: 34.7465, lng: -92.2896, status: 'legal', online: true, retail: true, taxRate: 13},
                {name: 'Colorado', code: 'CO', lat: 39.7392, lng: -104.9903, status: 'legal', online: true, retail: true, taxRate: 10},
                {name: 'Connecticut', code: 'CT', lat: 41.7658, lng: -72.6734, status: 'legal', online: true, retail: true, taxRate: 13.75},
                {name: 'Delaware', code: 'DE', lat: 39.1582, lng: -75.5244, status: 'legal', online: true, retail: true, taxRate: 50},
                {name: 'Florida', code: 'FL', lat: 30.4518, lng: -84.2807, status: 'legal', online: true, retail: true, taxRate: 0},
                {name: 'Illinois', code: 'IL', lat: 39.8017, lng: -89.6437, status: 'legal', online: true, retail: true, taxRate: 15},
                {name: 'Indiana', code: 'IN', lat: 39.7684, lng: -86.1581, status: 'legal', online: true, retail: true, taxRate: 9.5},
                {name: 'Iowa', code: 'IA', lat: 41.5868, lng: -93.6250, status: 'legal', online: true, retail: true, taxRate: 6.75},
                {name: 'Kansas', code: 'KS', lat: 39.0483, lng: -95.6780, status: 'legal', online: true, retail: true, taxRate: 10},
                {name: 'Kentucky', code: 'KY', lat: 38.2009, lng: -84.8733, status: 'legal', online: true, retail: true, taxRate: 9.75},
                {name: 'Louisiana', code: 'LA', lat: 30.9843, lng: -91.9623, status: 'legal', online: true, retail: true, taxRate: 15},
                {name: 'Maine', code: 'ME', lat: 44.3106, lng: -69.7795, status: 'legal', online: true, retail: true, taxRate: 10},
                {name: 'Maryland', code: 'MD', lat: 38.9072, lng: -77.0369, status: 'legal', online: true, retail: true, taxRate: 15},
                {name: 'Massachusetts', code: 'MA', lat: 42.3601, lng: -71.0589, status: 'legal', online: true, retail: true, taxRate: 20},
                {name: 'Michigan', code: 'MI', lat: 42.3314, lng: -84.5467, status: 'legal', online: true, retail: true, taxRate: 8.4},
                {name: 'Mississippi', code: 'MS', lat: 32.2988, lng: -90.1848, status: 'legal', online: false, retail: true, taxRate: 12},
                {name: 'Montana', code: 'MT', lat: 46.8797, lng: -110.3626, status: 'legal', online: false, retail: true, taxRate: 0},
                {name: 'Nevada', code: 'NV', lat: 39.1638, lng: -119.7674, status: 'legal', online: true, retail: true, taxRate: 6.75},
                {name: 'New Hampshire', code: 'NH', lat: 43.2081, lng: -71.5376, status: 'legal', online: true, retail: true, taxRate: 51},
                {name: 'New Jersey', code: 'NJ', lat: 40.2238, lng: -74.7640, status: 'legal', online: true, retail: true, taxRate: 13},
                {name: 'New Mexico', code: 'NM', lat: 34.5199, lng: -105.8701, status: 'legal', online: false, retail: true, taxRate: 0},
                {name: 'New York', code: 'NY', lat: 42.6526, lng: -73.7562, status: 'legal', online: true, retail: true, taxRate: 51},
                {name: 'North Carolina', code: 'NC', lat: 35.5397, lng: -79.8431, status: 'legal', online: true, retail: true, taxRate: 14},
                {name: 'Ohio', code: 'OH', lat: 39.9612, lng: -82.9988, status: 'legal', online: true, retail: true, taxRate: 10},
                {name: 'Oregon', code: 'OR', lat: 44.9378, lng: -123.0351, status: 'legal', online: true, retail: true, taxRate: 51},
                {name: 'Pennsylvania', code: 'PA', lat: 40.2732, lng: -76.8867, status: 'legal', online: true, retail: true, taxRate: 36},
                {name: 'Rhode Island', code: 'RI', lat: 41.5801, lng: -71.4774, status: 'legal', online: true, retail: true, taxRate: 51},
                {name: 'South Dakota', code: 'SD', lat: 44.3683, lng: -100.3364, status: 'legal', online: false, retail: true, taxRate: 9},
                {name: 'Tennessee', code: 'TN', lat: 36.1627, lng: -86.7816, status: 'legal', online: true, retail: false, taxRate: 20},
                {name: 'Vermont', code: 'VT', lat: 44.2627, lng: -72.5715, status: 'legal', online: true, retail: false, taxRate: 20},
                {name: 'Virginia', code: 'VA', lat: 37.5407, lng: -77.4360, status: 'legal', online: true, retail: true, taxRate: 15},
                {name: 'Washington', code: 'WA', lat: 47.0379, lng: -122.9007, status: 'legal', online: false, retail: true, taxRate: 0},
                {name: 'West Virginia', code: 'WV', lat: 38.3498, lng: -81.6326, status: 'legal', online: true, retail: true, taxRate: 10},
                {name: 'Wisconsin', code: 'WI', lat: 43.0731, lng: -89.4012, status: 'legal', online: false, retail: true, taxRate: 0},
                {name: 'Wyoming', code: 'WY', lat: 43.0759, lng: -107.2903, status: 'legal', online: true, retail: false, taxRate: 10}
            ];
            
            states.forEach(state => {
                const color = state.status === 'legal' ? '#10b981' : state.status === 'pending' ? '#f59e0b' : '#ef4444';
                
                const marker = L.circleMarker([state.lat, state.lng], {
                    radius: 8,
                    fillColor: color,
                    color: '#ffffff',
                    weight: 2,
                    opacity: 1,
                    fillOpacity: 0.8
                }).addTo(map);
                
                const popupContent = `
                    <div class="text-navy">
                        <h3 class="font-bold text-lg mb-2">${state.name} (${state.code})</h3>
                        <p class="mb-2"><strong>Status:</strong> ${state.status.charAt(0).toUpperCase() + state.status.slice(1)}</p>
                        <p class="mb-2"><strong>Online:</strong> ${state.online ? 'Yes' : 'No'}</p>
                        <p class="mb-2"><strong>Retail:</strong> ${state.retail ? 'Yes' : 'No'}</p>
                        <p><strong>Tax Rate:</strong> ${state.taxRate}%</p>
                    </div>
                `;
                
                marker.bindPopup(popupContent);
                
                marker.on('mouseover', function() {
                    this.setRadius(12);
                });
                
                marker.on('mouseout', function() {
                    this.setRadius(8);
                });
            });
        }
        
        // Revenue chart
        function createRevenueChart() {
            const ctx = document.getElementById('revenueChart');
            if (!ctx) return;
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2019', '2020', '2021', '2022', '2023', '2024'],
                    datasets: [{
                        label: 'Total Handle ($ Billions)',
                        data: [13.0, 21.5, 32.9, 42.1, 48.9, 60.2],
                        borderColor: '#ff6b47',
                        backgroundColor: 'rgba(255, 107, 71, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Gross Revenue ($ Billions)',
                        data: [1.2, 1.8, 2.9, 3.8, 4.5, 7.8],
                        borderColor: '#47d9ff',
                        backgroundColor: 'rgba(71, 217, 255, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    },
                    scales: {
                        x: {
                            ticks: {
                                color: '#ffffff'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        y: {
                            ticks: {
                                color: '#ffffff'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }
        
        // Tax revenue chart
        function createTaxChart() {
            const ctx = document.getElementById('taxChart');
            if (!ctx) return;
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['NY', 'PA', 'IL', 'NJ', 'NV', 'CO', 'IN', 'IA', 'VA', 'TN'],
                    datasets: [{
                        label: 'Tax Revenue ($ Millions)',
                        data: [1200, 650, 420, 380, 320, 280, 250, 200, 180, 160],
                        backgroundColor: [
                            '#ff6b47', '#47d9ff', '#ff6b47', '#47d9ff', '#ff6b47',
                            '#47d9ff', '#ff6b47', '#47d9ff', '#ff6b47', '#47d9ff'
                        ],
                        borderColor: '#ffffff',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    },
                    scales: {
                        x: {
                            ticks: {
                                color: '#ffffff'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        y: {
                            ticks: {
                                color: '#ffffff'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }
        
        // Populate states grid
        function populateStatesGrid() {
            const grid = document.getElementById('statesGrid');
            if (!grid) return;
            
            const states = [
                {name: 'Arizona', code: 'AZ', status: 'legal', date: '2021', online: true, retail: true, taxRate: 10, restrictions: 'None'},
                {name: 'Arkansas', code: 'AR', status: 'legal', date: '2019', online: true, retail: true, taxRate: 13, restrictions: 'None'},
                {name: 'Colorado', code: 'CO', status: 'legal', date: '2020', online: true, retail: true, taxRate: 10, restrictions: 'None'},
                {name: 'Connecticut', code: 'CT', status: 'legal', date: '2021', online: true, retail: true, taxRate: 13.75, restrictions: 'Tribal exclusivity'},
                {name: 'Delaware', code: 'DE', status: 'legal', date: '2018', online: true, retail: true, taxRate: 50, restrictions: 'Lottery controlled'},
                {name: 'Florida', code: 'FL', status: 'legal', date: '2021', online: true, retail: true, taxRate: 0, restrictions: 'Tribal compact'},
                {name: 'Illinois', code: 'IL', status: 'legal', date: '2020', online: true, retail: true, taxRate: 15, restrictions: 'In-person registration'},
                {name: 'Indiana', code: 'IN', status: 'legal', date: '2019', online: true, retail: true, taxRate: 9.5, restrictions: 'None'},
                {name: 'Iowa', code: 'IA', status: 'legal', date: '2019', online: true, retail: true, taxRate: 6.75, restrictions: 'None'},
                {name: 'Kansas', code: 'KS', status: 'legal', date: '2022', online: true, retail: true, taxRate: 10, restrictions: 'None'},
                {name: 'Kentucky', code: 'KY', status: 'legal', date: '2023', online: true, retail: true, taxRate: 9.75, restrictions: 'None'},
                {name: 'Louisiana', code: 'LA', status: 'legal', date: '2021', online: true, retail: true, taxRate: 15, restrictions: 'Parish-by-parish'},
                {name: 'Maine', code: 'ME', status: 'legal', date: '2022', online: true, retail: true, taxRate: 10, restrictions: 'None'},
                {name: 'Maryland', code: 'MD', status: 'legal', date: '2021', online: true, retail: true, taxRate: 15, restrictions: 'None'},
                {name: 'Massachusetts', code: 'MA', status: 'legal', date: '2022', online: true, retail: true, taxRate: 20, restrictions: 'None'},
                {name: 'Michigan', code: 'MI', status: 'legal', date: '2021', online: true, retail: true, taxRate: 8.4, restrictions: 'None'},
                {name: 'Mississippi', code: 'MS', status: 'legal', date: '2018', online: false, retail: true, taxRate: 12, restrictions: 'On-premises only'},
                {name: 'Missouri', code: 'MO', status: 'pending', date: '2024', online: false, retail: false, taxRate: 0, restrictions: 'Launching 2025'},
                {name: 'Montana', code: 'MT', status: 'legal', date: '2019', online: false, retail: true, taxRate: 0, restrictions: 'Lottery terminals'},
                {name: 'Nebraska', code: 'NE', status: 'legal', date: '2021', online: false, retail: true, taxRate: 20, restrictions: 'Casino only'},
                {name: 'Nevada', code: 'NV', status: 'legal', date: '1949', online: true, retail: true, taxRate: 6.75, restrictions: 'None'},
                {name: 'New Hampshire', code: 'NH', status: 'legal', date: '2019', online: true, retail: true, taxRate: 51, restrictions: 'State monopoly'},
                {name: 'New Jersey', code: 'NJ', status: 'legal', date: '2018', online: true, retail: true, taxRate: 13, restrictions: 'None'},
                {name: 'New Mexico', code: 'NM', status: 'legal', date: '2018', online: false, retail: true, taxRate: 0, restrictions: 'Tribal only'},
                {name: 'New York', code: 'NY', status: 'legal', date: '2021', online: true, retail: true, taxRate: 51, restrictions: 'None'},
                {name: 'North Carolina', code: 'NC', status: 'legal', date: '2023', online: true, retail: true, taxRate: 14, restrictions: 'None'},
                {name: 'Ohio', code: 'OH', status: 'legal', date: '2023', online: true, retail: true, taxRate: 10, restrictions: 'None'},
                {name: 'Oregon', code: 'OR', status: 'legal', date: '2019', online: true, retail: true, taxRate: 51, restrictions: 'State monopoly'},
                {name: 'Pennsylvania', code: 'PA', status: 'legal', date: '2019', online: true, retail: true, taxRate: 36, restrictions: 'None'},
                {name: 'Rhode Island', code: 'RI', status: 'legal', date: '2018', online: true, retail: true, taxRate: 51, restrictions: 'None'},
                {name: 'South Dakota', code: 'SD', status: 'legal', date: '2020', online: false, retail: true, taxRate: 9, restrictions: 'Deadwood only'},
                {name: 'Tennessee', code: 'TN', status: 'legal', date: '2019', online: true, retail: false, taxRate: 20, restrictions: 'Online only'},
                {name: 'Vermont', code: 'VT', status: 'legal', date: '2023', online: true, retail: false, taxRate: 20, restrictions: 'Online only'},
                {name: 'Virginia', code: 'VA', status: 'legal', date: '2020', online: true, retail: true, taxRate: 15, restrictions: 'None'},
                {name: 'Washington', code: 'WA', status: 'legal', date: '2020', online: false, retail: true, taxRate: 0, restrictions: 'Tribal only'},
                {name: 'West Virginia', code: 'WV', status: 'legal', date: '2018', online: true, retail: true, taxRate: 10, restrictions: 'None'},
                {name: 'Wisconsin', code: 'WI', status: 'legal', date: '2021', online: false, retail: true, taxRate: 0, restrictions: 'Tribal only'},
                {name: 'Wyoming', code: 'WY', status: 'legal', date: '2021', online: true, retail: false, taxRate: 10, restrictions: 'Online only'}
            ];
            
            function renderStates(statesToRender) {
                grid.innerHTML = '';
                
                statesToRender.forEach(state => {
                    const statusColor = state.status === 'legal' ? 'bg-green-500' : state.status === 'pending' ? 'bg-yellow-500' : 'bg-red-500';
                    
                    const stateCard = document.createElement('div');
                    stateCard.className = 'state-card rounded-lg p-6';
                    stateCard.innerHTML = `
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-white">${state.name}</h3>
                            <span class="${statusColor} text-white px-2 py-1 rounded-full text-xs font-semibold">
                                ${state.status.charAt(0).toUpperCase() + state.status.slice(1)}
                            </span>
                        </div>
                        
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Legalized:</span>
                                <span class="text-white">${state.date}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Online:</span>
                                <span class="text-white">${state.online ? 'Yes' : 'No'}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Retail:</span>
                                <span class="text-white">${state.retail ? 'Yes' : 'No'}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Tax Rate:</span>
                                <span class="text-white">${state.taxRate}%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Restrictions:</span>
                                <span class="text-white text-xs">${state.restrictions}</span>
                            </div>
                        </div>
                    `;
                    
                    grid.appendChild(stateCard);
                });
            }
            
            // Initial render
            renderStates(states);
            
            // Filter handlers
            document.getElementById('statusFilter').addEventListener('change', function() {
                const filtered = this.value === 'all' ? states : states.filter(s => s.status === this.value);
                renderStates(filtered);
            });
            
            // Sort handlers
            let sortDirection = 'asc';
            
            document.getElementById('sortName').addEventListener('click', function() {
                const sorted = [...states].sort((a, b) => {
                    return sortDirection === 'asc' ? a.name.localeCompare(b.name) : b.name.localeCompare(a.name);
                });
                renderStates(sorted);
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            });
        }
    </script>
    
    <!-- Recharts Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/recharts@2.12/umd/Recharts.min.js"></script>
    
    <!-- Update Revenue Stats with CSV Data -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // CSV fetch removed - using hardcoded data
                .then(r => r.text())
                .then(text => {
                    const lines = text.trim().split(/\r?\n/);
                    const headers = lines[0].split(',').map(h => h.trim());
                    const data = lines.slice(1).filter(l => l).map(line => {
                        const cols = [];
                        let cur = '', inQ = false;
                        for (let c of line) {
                            if (c === '"') inQ = !inQ;
                            else if (!inQ && c === ',') { cols.push(cur); cur = ''; }
                            else cur += c;
                        } cols.push(cur);
                        return Object.fromEntries(cols.map((v,i)=>[headers[i],v.trim()]));
                    });
                    
                    const latest = data[data.length - 1];
                    const prev = data[data.length - 2];
                    
                    // Update all stat cards
                    const cards = document.querySelectorAll('.glass-card.text-center');
                    if (cards[0]) cards[0].querySelector('.text-3xl').textContent = '$' + (+latest['Handle ($B)']).toFixed(1) + 'B';
                    if (cards[1]) cards[1].querySelector('.text-3xl').textContent = '$' + (+latest['Tax Revenue ($B)']).toFixed(2) + 'B';
                    if (cards[2]) cards[2].querySelector('.text-3xl').textContent = '$' + (+latest['Gross Revenue ($B)']).toFixed(1) + 'B';
                    if (cards[3]) cards[3].querySelector('.text-3xl').textContent = (+latest['Average Hold (%)']).toFixed(1) + '%';
                    
                    // Update percentage change for handle
                    const handleChange = ((+latest['Handle ($B)'] - +prev['Handle ($B)']) / +prev['Handle ($B)']) * 100;
                    if (cards[0] && cards[0].querySelector('.text-sm')) {
                        cards[0].querySelector('.text-sm').textContent = '+' + handleChange.toFixed(0) + '% from 2023';
                    }
                })
                .catch(err => console.error('Revenue stats loading error:', err));
        });
    </script>
    
</body>
</html>
